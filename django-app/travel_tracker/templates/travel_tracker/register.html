{% extends 'travel_tracker/base.html' %}

{% block title %}–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è - –¢—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π —Ç—Ä–µ–∫–µ—Ä{% endblock %}

{% block extra_css %}
<style>
    .register-header {
        margin-bottom: 100px;
    }
    .password-wrapper {
        position: relative;
    }
    .password-toggle {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.2rem;
        color: #667eea;
        padding: 5px;
    }
    .password-toggle:hover {
        color: #5568d3;
    }
    .form-group input[type="password"],
    .form-group input[type="email"] {
        padding-right: 40px;
    }
</style>
{% endblock %}

{% block content %}
<div class="card">
    <h2 class="register-header">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_email">Email:</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 0.5rem;">
                    {{ form.email.errors }}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_password1">–ü–∞—Ä–æ–ª—å:</label>
            <div class="password-wrapper">
                {{ form.password1 }}
                <button type="button" class="password-toggle" onclick="togglePassword('id_password1', this)">
                    üëÅÔ∏è
                </button>
            </div>
            {% if form.password1.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 0.5rem;">
                    {{ form.password1.errors }}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_password2">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è:</label>
            <div class="password-wrapper">
                {{ form.password2 }}
                <button type="button" class="password-toggle" onclick="togglePassword('id_password2', this)">
                    üëÅÔ∏è
                </button>
            </div>
            {% if form.password2.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 0.5rem;">
                    {{ form.password2.errors }}
                </div>
            {% endif %}
        </div>
        <button type="submit" class="btn">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
    </form>
    <p style="margin-top: 1rem;">
        –í–∂–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="{% url 'login' %}">–£–≤—ñ–π–¥—ñ—Ç—å</a>
    </p>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function togglePassword(inputId, button) {
        const input = document.getElementById(inputId);
        if (input.type === 'password') {
            input.type = 'text';
            button.textContent = 'üôà';
        } else {
            input.type = 'password';
            button.textContent = 'üëÅÔ∏è';
        }
    }
</script>
{% endblock %}
