# –¢—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π —Ç—Ä–µ–∫–µ—Ä üåç

Docker-–ø—Ä–æ—î–∫—Ç –∑ Django, PostgreSQL —Ç–∞ Nginx –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –∫—Ä–∞—ó–Ω.

## –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É

–¢—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π —Ç—Ä–µ–∫–µ—Ä - —Ü–µ –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º:

- –†–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —Ç–∞ –≤—Ö–æ–¥–∏—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- –í—ñ–¥–º—ñ—á–∞—Ç–∏ –∫—Ä–∞—ó–Ω–∏, —è–∫—ñ –≤–æ–Ω–∏ –≤—ñ–¥–≤—ñ–¥–∞–ª–∏
- –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç—É –∑ –≤—ñ–¥–º—ñ—á–µ–Ω–∏–º–∏ –∫—Ä–∞—ó–Ω–∞–º–∏
- –ë–∞—á–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –∫—Ä–∞—ó–Ω —Ç–∞ –≤—ñ–¥—Å–æ—Ç–æ–∫ –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –∫—Ä–∞—ó–Ω

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Django 4.2** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL 15** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **Leaflet** - —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞
- **Gunicorn** - WSGI —Å–µ—Ä–≤–µ—Ä

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
DevOps_practice/
‚îú‚îÄ‚îÄ travel_project/          # –û—Å–Ω–æ–≤–Ω–∏–π Django –ø—Ä–æ—î–∫—Ç
‚îÇ   ‚îú‚îÄ‚îÄ settings.py          # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ urls.py              # URL –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py              # WSGI –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ travel_tracker/          # Django –¥–æ–¥–∞—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (Country, UserVisit)
‚îÇ   ‚îú‚îÄ‚îÄ views.py             # Views –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ urls.py              # URL –º–∞—Ä—à—Ä—É—Ç–∏ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ templates/           # HTML —à–∞–±–ª–æ–Ω–∏
‚îÇ   ‚îî‚îÄ‚îÄ management/commands/ # Management –∫–æ–º–∞–Ω–¥–∏
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Nginx
‚îú‚îÄ‚îÄ Dockerfile               # Dockerfile –¥–ª—è Django
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –í–∏–º–æ–≥–∏

- Docker
- Docker Compose

### –ö—Ä–æ–∫–∏ –∑–∞–ø—É—Å–∫—É

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:

```bash
git clone <your-repo-url>
cd DevOps_practice
```

2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose:

```bash
docker-compose up -d
```

3. –ü—Ä–æ—î–∫—Ç –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

   - **http://localhost** - —á–µ—Ä–µ–∑ Nginx
   - **http://localhost:8000** - –Ω–∞–ø—Ä—è–º—É –¥–æ Django

4. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):

```bash
docker-compose exec web python manage.py createsuperuser
```

5. –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
   - **http://localhost/admin**

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è**: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
2. **–í—Ö—ñ–¥**: –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–∏—Å—Ç–µ–º—É –∑—ñ —Å–≤–æ—ó–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
3. **–í—ñ–¥–º—ñ—Ç–∫–∞ –∫—Ä–∞—ó–Ω**: –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∫—Ä–∞—ó–Ω—É –Ω–∞ –∫–∞—Ä—Ç—ñ, —â–æ–± –≤—ñ–¥–º—ñ—Ç–∏—Ç–∏ —ó—ó —è–∫ –≤—ñ–¥–≤—ñ–¥–∞–Ω—É
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –∫—Ä–∞—ó–Ω —Ç–∞ –≤—ñ–¥—Å–æ—Ç–æ–∫ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ

## Docker —Å–µ—Ä–≤—ñ—Å–∏

- **web** - Django –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ (–ø–æ—Ä—Ç 8000)
- **db** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–ø–æ—Ä—Ç 5432)
- **nginx** - Nginx –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 80)

## Management –∫–æ–º–∞–Ω–¥–∏

–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫—Ä–∞—ó–Ω —É –±–∞–∑—É –¥–∞–Ω–∏—Ö:

```bash
docker-compose exec web python manage.py load_countries
```

## –ó—É–ø–∏–Ω–∫–∞ –ø—Ä–æ—î–∫—Ç—É

```bash
docker-compose down
```

–î–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö (–≤–∫–ª—é—á–∞—é—á–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö):

```bash
docker-compose down -v
```

## –†–æ–∑—Ä–æ–±–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –±–µ–∑ Docker:

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```bash
pip install -r requirements.txt
```

2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö PostgreSQL

3. –í–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó:

```bash
python manage.py migrate
python manage.py load_countries
```

4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–æ–∑—Ä–æ–±–∫–∏:

```bash
python manage.py runserver
```
